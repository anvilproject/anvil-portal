/*
 * The AnVIL
 * https://www.anvilproject.org
 *
 * Style definitions specific to The AnVIL data table component.
 */
@import "../../styles/vars.module.css";

/* Table wrapper */
/* Allows for overflow on smaller screens */
.wrapper {
    overflow-x: auto;
    overflow-y: hidden;
    padding-right: 16px; /* RHS gutter */
    width: calc(100vw - 16px);
}

/* Table wrapper - summary */
.wrapper.summary {
    margin-bottom: 24px;
}

/* Table wrapper - study */
.wrapper.study {
    padding: 0;
    width: 100%;
}

/* Table */
table {
    display: inline-table;
    margin: 0;
}

/* Table - detail */
.detail table {
    max-width: 1118px;
}

/* Header */
.header {
    border-bottom: 1px solid var(--accent-blue-green);
    height: 42px;
    vertical-align: bottom;
}

/* Study - header */
.study .header {
    height: 32px;
}

/* Header cell, row cell */
.header th, .row td {
    border-bottom: none;
    color: var(--accent-blue-dark);
    font-size: 14px;
}

/* Header cells */
.header th {
    font-family: "Open Sans", sans-serif;
    font-weight: 600;
    line-height: 24px;
    padding: 0 4px 4px;
}

/* Header cell - first */
.header th:first-of-type {
    padding: 0 4px 4px 8px;
}

/* Header cell - last */
.header th:last-of-type {
    padding: 0 8px 4px 4px;
}

/* Study - header cells */
.study .header th {
    font-weight: 300;
    padding: 0 16px 4px;
}

/* Study - header cell - first */
.study .header th:first-of-type {
    padding: 0 4px 4px 0;
}

/* Study - header cell - last */
.study .header th:last-of-type {
    padding: 0 0 4px 4px;
}

/* Row */
.row {
    border-bottom: 1px solid var(--shade-light-green);
}

/* Summary table - row - last before "total" row */
.summary .row:nth-last-child(2) {
    border-bottom: none;
}

/* Summary table - row - "total" row */
.summary .row.total {
    border-top: 1px solid var(--accent-blue-green);
    border-bottom-color: var(--accent-blue-green);
}

/* Row cells */
.row td {
    font-family: "Barlow", sans-serif;
    font-weight: 400;
    height: 32px;
    min-width: 104px;
    padding: 0 4px;
}

/* Detail table - row cell - "projectId" */
.detail .row td[id^="projectId"] {
    min-width: 452px;
}

/* Detail table - row cell - "dbGapId" */
.detail .row td[id^="dbGapId"] {
    min-width: 124px;
}

/* Detail table - row cell - "access" */
.detail .row td[id^="access"] {
    min-width: 32px;
}

/* Study - row cell */
.study .row td {
    height: 24px;
    min-width: 80px;
}

/* Study - row cell - "workspaceId" */
.study .row td[id^="workspaceId"] {
    max-width: 268px; /* Required for ellipsis */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
}

/* Study - row cell - counts */
.study .row td[id^="subjects"], .study .row td[id^="samples"], .study .row td[id^="files"], .study .row td[id^="size"] {
    min-width: 72px;
}

/* Study - row cell - "dataType" */
.study .row td[id^="dataType"] {
    min-width: 96px;
}

/* Row cells - "total" */
.row.total td {
    font-weight: 500;
}

/* Row cell - link */
.row td.link {
    color: var(--primary);
    cursor: pointer;
}

/* Right align cell */
.row td.right, .header th.right {
    text-align: right;
}

/* Row cell - first */
.row td:first-of-type {
    padding: 0 4px 0 8px;
}

/* Row cell - last */
.row td:last-of-type {
    padding: 0 8px 0 4px;
}

/* Study - row cell */
.study .row td {
    padding: 0 16px;
}

/* Study - row cell - first */
.study .row td:first-of-type {
    padding: 0 4px 0 0;
}

/* Study - row cell - last */
.study .row td:last-of-type {
    padding: 0 0 0 4px;
}

/**
 * Large handset portrait, extra small window
 * https://material.io/design/layout/responsive-layout-grid.html#breakpoints
 */
@media screen and (min-width: 480px) {

    /* Study - row cell */
    .study .row td {
        min-width: 104px;
    }
}

/**
 * Large Tablet
 * https://material.io/design/layout/responsive-layout-grid.html#breakpoints
 */
@media screen and (min-width: 720px) {

    /* Table wrapper - summary */
    .wrapper.summary {
        padding-right: 0;
        width: 100%;
    }

    /* Table wrapper - detail */
    .wrapper.detail {
        padding-right: 24px;
        width: calc(100vw - 24px);
    }
}

/**
 * Large handset portrait, small handset landscape, extra small window
 */
@media screen and (min-width: 840px) {

    /* Table wrapper - detail */
    .wrapper.detail {
        padding-right: 24px;
        width: calc(100vw - 40px - 24px); /* 100vw minus: content padding, gutter */
    }
}

/**
 * AnVIL data table specific breakpoint.
 * Allows for full width summary data table with introduction of margins - "auto" on the "contentPositioner" class on the article component at this screen width.
 */
@media screen and (min-width: 888px) {

    /* Table wrapper - detail */
    .wrapper.detail {
        width: calc(100vw - ((100vw - 840px - 48px) / 2) - 24px - 40px); /* 100vw minus: the LHS content margin, both gutters, content padding */
    }
}

/**
 * Column row layout changes to row layout (left nav/content/outline).
 */
@media screen and (min-width: 1341px) {

    /* Table wrapper - detail */
    .wrapper.detail {
        width: calc(100vw - 280px - 24px - 40px); /* 100vw minus: LHS nav, LHS gutter, content padding */
    }
}

