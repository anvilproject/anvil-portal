/*
 * The AnVIL
 * https://www.anvilproject.org
 *
 * Style definitions specific to The AnVIL carousel slide component.
 */

/* Slide */
.slot {
  cursor: grab;
  display: grid;
  grid-column: 1; /* Stacks all slides on the same grid - the active slide is specified with a higher z-index. */
  grid-row: 1; /* Stacks all slides on the same grid - the active slide is specified with a higher z-index. */
  /* Rows are allocated in the following order: margin (1), title (2), margin (3), actions (4), margin (5), media (6), margin (7), sub title (8). */
  grid-template-rows: 32px 7rem 12px 1.125rem 12px 182px 8px 3.375rem;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Slot - hidden */
.slot:not(.active) {
  animation: hideSlot 0.5s ease 0s;
  opacity: 0;
  visibility: hidden;
  z-index: 0;
}

/* Slot - active */
.slot.active {
  animation: showSlot 0.5s ease 0s;
  opacity: 1;
  visibility: visible;
  z-index: 1;
}

/* Animation - show slot */
@keyframes showSlot {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Animation - hide slot */
@keyframes hideSlot {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Title */
.cardTitle {
  font-family: "Open Sans", sans-serif;
  font-size: 1.25rem; /* 20px. */
  font-weight: 600;
  grid-row: 2;
  line-height: 1.75rem; /* 28px. */
  margin: 0;
}

/* Title - clamp */
.cardTitle span {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  /* autoprefixer: ignore next */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Card actions. */
.cardActions {
  align-items: center;
  display: flex;
  gap: 16px;
  grid-column: 1;
  grid-row: 4;
}

/* Action. */
.cardAction {
  color: var(--primary);
  display: inline-block;
  font-family: "Open Sans", sans-serif;
  font-size: 0.875rem; /* 14px. */
  font-weight: 600;
  line-height: 1.125rem; /* 18px. */
}

/* Media frame. */
.cardMediaFrame {
  align-items: center;
  background-color: var(--shade-light);
  display: flex;
  grid-row: 6;
  justify-content: center;
}

/* Media - landscape. */
.cardMediaLandscape {
  display: block !important;
}

/* Media - portrait. */
.cardMediaPortrait {
  display: none !important;
}

/* Sub title. */
.cardSubTitle {
  color: var(--black58);
  font-family: "Open Sans", sans-serif;
  font-size: 0.875rem; /* 14px. */
  grid-row: 8;
  line-height: 1.125rem; /* 18px. */
  position: relative; /* Positions divider. */
}

/* Divider. */
.cardSubTitle::before {
  background-color: var(--grey);
  content: "";
  height: 1px;
  left: 0;
  position: absolute;
  top: -9px;
  width: 100%;
}

/* Sub title - clamp. */
.cardSubTitle span {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  /* autoprefixer: ignore next */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/**
 * Large handset portrait, extra small window
 * https://material.io/design/layout/responsive-layout-grid.html#breakpoints
 */
@media screen and (min-width: 480px) {
  /* Slide */
  .slot {
    /* Rows are allocated in the following order: margin (1), title (2), margin (3), actions (4), margin (5), media (6), margin (7), sub title (8). */
    grid-template-rows: 32px 5.25rem 12px 1.125rem 12px 182px 8px 3.375rem;
  }

  /* Title - clamp */
  .cardTitle span {
    -webkit-line-clamp: 3;
  }
}

/**
 * Small tablet portrait, medium handset landscape, small window.
 */
@media screen and (min-width: 600px) {
  /* Slide */
  .slot {
    /* Rows are allocated in the following order: margin (1), title (2), margin (3), actions (4), margin (5), media (6), margin (7), sub title (8). */
    grid-template-rows: 32px 3.5rem 12px 1.125rem 12px 182px 8px 2.25rem;
  }

  /* Title - clamp */
  .cardTitle span {
    -webkit-line-clamp: 2;
  }

  /* Sub title - clamp. */
  .cardSubTitle span {
    -webkit-line-clamp: 2;
  }
}

/**
 * Large tablet portrait, large handset landscape, small window
 */
@media screen and (min-width: 720px) {
  /* Slide */
  .slot {
    grid-column-gap: 32px;
    grid-template-columns: 1fr 1fr; /* Columns are allocated equally: title (1), media (2). */
    /* Rows are allocated in the following order: margin (1), title (2), margin (3), actions (4), margin (5 & 6), sub title (7). */ /* Media (1 - 7). */
    grid-template-rows: 32px 200px 12px 1.125rem 12px 8px 2.25rem;
  }

  /* Title */
  .cardTitle {
    grid-column: 1;
    grid-row: 2;
  }

  /* Title - clamp */
  .cardTitle span {
    -webkit-line-clamp: 7;
  }

  /* Media frame. */
  .cardMediaFrame {
    grid-column: 2;
    grid-row: 1 / 6;
  }

  /* Sub title. */
  .cardSubTitle {
    grid-column: 1 / -1;
    grid-row: 7;
  }
}

/**
 * Optimized for home page channel.
 */
@media screen and (min-width: 1200px) {
  /* Slide */
  .slot {
    border-top: none;
    /* Rows are allocated in the following order: margin (1), title (2), margin (3), actions (4), margin (5 & 6), sub title (7), margin (8). */
    grid-template-rows: 32px 12.25rem 12px 1.125rem 12px 8px 2.25rem 8px;
    padding: 0 24px;
  }

  /* Media - landscape. */
  .cardMediaLandscape {
    display: none !important;
  }

  /* Media - portrait. */
  .cardMediaPortrait {
    display: block !important;
  }
}
